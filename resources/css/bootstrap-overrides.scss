//
// add a new theme color "purple"
//

// must be overridden prior to importing bootstrap/scss/maps
$theme-colors: map-merge($theme-colors, ("purple": $purple));

@import "bootstrap/scss/maps";
@import "bootstrap/scss/mixins";

// must be overridden after importing bootstrap/scss/maps as $theme-colors-text etc. get defined there
// Light mode
$theme-colors-text: map-merge($theme-colors-text, ("purple": $purple));
$theme-colors-bg-subtle: map-merge($theme-colors-bg-subtle, ("purple": #e1d2fe));
$theme-colors-border-subtle: map-merge($theme-colors-border-subtle, ("purple": #bfa1fc));

// Dark mode
$theme-colors-text-dark: map-merge($theme-colors-text-dark, ("purple": #a355f6));
$theme-colors-bg-subtle-dark: map-merge($theme-colors-bg-subtle-dark, ("purple": #241640));
$theme-colors-border-subtle-dark: map-merge($theme-colors-border-subtle-dark, ("purple": #423366));

// must be overriden prior to importing bootstrap/scss/utilities
$utilities-text-emphasis-colors: map-merge($utilities-text-emphasis-colors, ("purple-emphasis": var(--#{$prefix}purple-text-emphasis)));
$utilities-bg-subtle: map-merge($utilities-bg-subtle, ("purple-subtle": var(--#{$prefix}purple-bg-subtle)));
$utilities-border-subtle: map-merge($utilities-border-subtle, ("purple-subtle": var(--#{$prefix}purple-border-subtle)));


//
// other bootstrap overrides
//

// different divider for breadcrumbs
$breadcrumb-divider: quote(">");

// change sidebar size
$offcanvas-horizontal-width: 300px;

// outline-secondary-button looks like it's disabled otherwise
html .btn-outline-secondary { // using html selector to increase specifity
  --bs-btn-color: var(--bs-body-color);
}

@include color-mode(dark) {
  .btn-outline-secondary {
    --bs-btn-color: var(--bs-secondary-color);
  }

  .btn-outline-primary {
    filter: brightness(120%) saturate(2); // improve contrast ratio
  }
}

// add "loading" validation state
$form-validation-states: map-merge($form-validation-states, ("loading": (
        "color": var(--bs-secondary-color),
        "icon": url("data:image/svg+xml,<svg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'><path d='M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z' fill='#{$secondary}'><animateTransform attributeName='transform' type='rotate' dur='0.75s' values='0 12 12;360 12 12' repeatCount='indefinite'/></path></svg>"),
        "tooltip-color": #fff,
        "tooltip-bg-color": var(--bs-secondary),
        "focus-box-shadow": 0 0 $input-btn-focus-blur $input-focus-width rgba(var(--bs-secondary-rgb), $input-btn-focus-color-opacity),
        "border-color": var(--bs-secondary-border-subtle),
)));

// decrease modal transition duration
$modal-transition: transform .15s ease-out;
$modal-fade-transform: scale(.9);
